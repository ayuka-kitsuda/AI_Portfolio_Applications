# AIアプリケーション
このリポジトは、いくつかのAIアプリケーションを実装したポートフォリオです。  
それぞれ異なる技術で構築しています。詳細は下記に示しています。

## 🌏 公開デモ
**[アプリケーションを確認する](http://35.72.5.0:8501)**  
画像認識アプリ、チャットボット、感情分析アプリが表示できます。

## :pushpin: アプリケーションの概要
下記3つのアプリケーションを実装しています。
- 10種類の中から分類する画像認識アプリ
- ITに関することのみ質問できるチャットボット
- ボジティブ・ネガティブ・中立を分類する感情分析アプリ

### 【 10種類の中から分類する画像認識アプリ 】
CIFAR10のデータセットを使用して、画像を10種類のクラスに分類するアプリケーションです。  
飛行機、自動車、鳥、猫、鹿、犬、カエル、馬、船、トラックから分類できます。  
#### ・使用方法
ユーザーが画像をアップロードするとその画像が表示され、その下に予測結果が表示されます。  
使用できる画像はJPG, PNG, JPEGです。
リポジトリのimagesにchatGPTで作成した10種類の画像を置いていますので、必要な場合はご使用ください。  
#### ・モデルについて
Vision Transformerモデル (ViT) をCIFAR-10用に微調整し、画像分類に対応しました。
#### ・応用例
「画像仕訳アプリ」「画像から名称の特定ができるアプリ」が考えられます。
#### ・使用技術とライブラリ
フレームワーク：Pytorch, Streamlit  
画像前処理：torchvision.transforms  
最適化アルゴリズム：Adam Optimizer  
モデル保存：torch.save  

### 【 ITに関することのみ質問できるチャットボット 】
OpenAIを使用したITに関することのみ回答するチャットボットです。  
回答は100文字以内で返します。
#### ・使用方法
ユーザーがITに関する質問を記載して送信すると、アシスタントから返答が来ます。
ユーザーの質問とその返答は残りますが、リロードすると消えます。
IT以外のことを送信すると「ITに関する質問以外は回答できません。」と返ってきます。
#### ・応用方法
「学習アプリで解答の説明のみに使用できるチャットボット」が考えられます。
#### ・使用技術とライブラリ
フレームワーク：Streamlit  
生成AI API：OpenAI API

### 【 感情分析アプリ 】
入力された日本語文章の感情をポジティブ、ネガティブ、中立の3カテゴリで分類します。
#### ・使用方法
感情を分析したい文章を入力し「分析」ボタンを押下すると、予測結果が表示されます。
#### ・モデルについて
BERT日本語モデルを使用しています。
#### ・応用方法
「映画の感想から感情を分けて集計する機能」「お店に対する評価が一目でわかる機能」が考えられます。
#### ・使用技術とライブラリ
フレームワーク：Streamlit  
NLPモデル：Transformers  
トークナイザーとモデル管理：BERT for Japanese  

## 🖥️ デプロイ環境
このアプリケーションは、AWS EC2を使用してデプロイしています。
### 実施した方法
・AWSコンソールでEC2インスタンスを起動させる。  
・ターミナルで作成したEC2インスタンスをSSH接続する。  
・EC2インスタンスにpythonなど必要なパッケージをインストールする。  
・GitHubのリポジトリをクローンする。  
・仮想環境の構築しアクティブにする。  
・requirements.txtから必要なライブラリをインストールする。  
・画像認識アプリで使用するモデルの読み込みをするために2GBのスワップメモリを追加。  
・nohupを使用してバックグラウンドでアプリケーションを起動する。その際、環境変数も指定する。

## 📁 ディレクト構成
```
AI_Portfolio_Applications/
├── app_pages/                 # 各アプリケーションのページコード
    ├── chatbot.py             # チャットボットのページコード
    ├── emotion.py             # 感情分析アプリのページコード
    ├── imageRecognition.py    # 画像認識アプリのページコード
├── images/                    # 画像ファイル（画像認識アプリで使用可能)
├── model/                     # 画像認識アプリのモデルを保存したディレクトリ
├── .gitignore                 # Gitで無視するファイルを定義
├── Dockerfile                 # Docker構成ファイル
├── ImageRecognitionModel.ipynb # 画像認識モデルのコード
├── LICENSE                    # ライセンス情報
├── README.md                  # プロジェクトの説明ファイル
├── app.py                     # メインアプリケーション
└── requirements.txt           # 必要なPythonライブラリの一覧
```

## 🚀 Dockerの使用方法
1. 前提条件  
[Docker](https://docs.docker.com/get-docker/)がインストールされていること。

2. Dockerfileとrequirements.txtを任意のフォルダに用意する。

3. Dockerイメージのビルド  
このプロジェクトのDockerイメージをビルドするには、次のコマンドを実行してください:
   ```bash
   docker build -t <your-image-name> .
   ```
   - -t \<your-image-name\>: イメージに名前を付けます（例: my-app）。

4. Dockerコンテナの起動  
Dockerコンテナを起動するには、以下のコマンドを実行してください:
   ```bash
   docker run -d -p 8501:8501 <your-image-name>
   ```
   
5. 環境変数の設定
"生成AIを使用したチャットボット"を実行するには、OpenAI APIキーが必要です。  
コンテナ実行時に環境変数としてAPIキーを渡してください。
   ```bash
   docker run -d -p 8501:8501 -e OPENAI_API_KEY=your_openai_api_key <your-image-name>
   ```
   ※ 今回はセキュリティのため、APIキーを設定しません。そのため、この環境では"生成AIを使用したチャットボット"は正常に動作しません。デプロイしたアプリケーションでご確認ください。

6. コンテナの停止と削除  
コンテナを停止するには、以下のコマンドを実行します:
   ```bash
   docker stop <container-id>
   ```
   - \<container-id\>は、実行中のコンテナのIDです。docker psコマンドで確認できます。

   コンテナを削除するには、以下のコマンドを実行します:
   ```bash
   docker rm <container-id>
   ```
